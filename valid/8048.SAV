 0001 000000          		.LIST 8048.lst
 0002 000000          		.CPU  8048
 0003 000000          	; test sample for xgen8048.c
 0004 000000          	; opcode results in numeric sequence
 0005 000000          	; no errors should result
 0006 000000          	
 0007 000064          		.ORG	0100
 0008 000064          	
 0009    0012          	ZLOC	.EQU	$0012	;page 0 address
 0010    0123          	LOC1	.EQU	$0123	;page 1 address
 0011    0234          	LOC2	.EQU	$0234	;page 2 address
 0012    0345          	LOC3	.EQU	$0345	;page 3 address
 0013    0456          	LOC4	.EQU	$0456	;page 4 address
 0014    0567          	LOC5	.EQU	$0567	;page 5 address
 0015    0678          	LOC6	.EQU	$0678	;page 6 address
 0016    0789          	LOC7	.EQU	$0789	;page 7 address
 0017 000064          	
 0018 000064          	BEGIN
 0019 000064 00       		NOP			
 0020 000065 01       		.DB	$01	; invalid opcode
 0021 000066 02       		OUTL	BUS,A
 0022 000067 03 12    		ADD	A,#ZLOC
 0023 000069 04 12    		JMP	ZLOC
 0024 00006B 05       		EN	I
 0025 00006C 06       		.DB	$06	; invalid opcode
 0026 00006D 07       		DEC	A
 0027 00006E 08       		INS	A,BUS
 0028 00006F 09       		IN	A,P1
 0029 000070 0A       		IN	A,P2
 0030 000071 0B       		.DB	$0B	; invalid opcode
 0031 000072 0C       	L1	MOVD	A,P4
 0032 000073 0D       		MOVD	A,P5
 0033 000074 0E       		MOVD	A,P6
 0034 000075 0F       		MOVD	A,P7
 0035 000076 10       		INC	@R0
 0036 000077 11       		INC	@R1
 0037 000078 12 72    		JB0	L1
 0038 00007A 13 12    		ADDC	A,#ZLOC
 0039 00007C 14 12    		CALL	ZLOC
 0040 00007E 15       		DIS	I
 0041 00007F 16 72    		JTF	L1
 0042 000081 17       		INC	A
 0043 000082 18       		INC	R0
 0044 000083 19       		INC	R1
 0045 000084 1A       		INC	R2
 0046 000085 1B       		INC	R3
 0047 000086 1C       		INC	R4
 0048 000087 1D       		INC	R5
 0049 000088 1E       		INC	R6
 0050 000089 1F       		INC	R7
 0051 00008A 20       		XCH	A,@R0
 0052 00008B 21       		XCH	A,@R1
 0053 00008C 22       		.DB	$22	; invalid opcode
 0054 00008D 23 12    		MOV	A,#ZLOC
 0055 00008F 24 23    		JMP	LOC1
 0056 000091 25       		EN	TCNTI
 0057 000092 26 72    		JNT0	L1
 0058 000094 27       		CLR	A
 0059 000095 28       		XCH	A,R0
 0060 000096 29       		XCH	A,R1
 0061 000097 2A       		XCH	A,R2
 0062 000098 2B       		XCH	A,R3
 0063 000099 2C       		XCH	A,R4
 0064 00009A 2D       		XCH	A,R5
 0065 00009B 2E       		XCH	A,R6
 0066 00009C 2F       		XCH	A,R7
 0067 00009D 30       		XCHD	A,@R0
 0068 00009E 31       		XCHD	A,@R1
 0069 00009F 32 72    		JB1	L1
 0070 0000A1 33       		.DB	$33	; invalid opcode
 0071 0000A2 34 23    		CALL	LOC1
 0072 0000A4 35       		DIS	TCNTI
 0073 0000A5 36 72    		JT0	L1
 0074 0000A7 37       		CPL	A
 0075 0000A8 38       		.DB	$38	; invalid opcode
 0076 0000A9 39       		OUTL	P1,A
 0077 0000AA 3A       		OUTL	P2,A
 0078 0000AB 3B       		.DB	$3B	; invalid opcode
 0079 0000AC 3C       		MOVD	P4,A
 0080 0000AD 3D       		MOVD	P5,A
 0081 0000AE 3E       		MOVD	P6,A
 0082 0000AF 3F       		MOVD	P7,A
 0083 0000B0 40       		ORL	A,@R0
 0084 0000B1 41       		ORL	A,@R1
 0085 0000B2 42       		MOV	A,T
 0086 0000B3 43 12    		ORL	A,#ZLOC
 0087 0000B5 44 34    		JMP	LOC2
 0088 0000B7 45       		STRT	CNT
 0089 0000B8 46 72    		JNT1	L1
 0090 0000BA 47       		SWAP	A
 0091 0000BB 48       		ORL	A,R0
 0092 0000BC 49       		ORL	A,R1
 0093 0000BD 4A       		ORL	A,R2
 0094 0000BE 4B       		ORL	A,R3
 0095 0000BF 4C       		ORL	A,R4
 0096 0000C0 4D       		ORL	A,R5
 0097 0000C1 4E       		ORL	A,R6
 0098 0000C2 4F       		ORL	A,R7
 0099 0000C3 50       		ANL	A,@R0
 0100 0000C4 51       		ANL	A,@R1
 0101 0000C5 52 72    		JB2	L1
 0102 0000C7 53 12    		ANL	A,#ZLOC
 0103 0000C9 54 34    		CALL	LOC2
 0104 0000CB 55       		STRT	T
 0105 0000CC 56 72    		JT1	L1
 0106 0000CE 57       		DA	A
 0107 0000CF 58       		ANL	A,R0
 0108 0000D0 59       		ANL	A,R1
 0109 0000D1 5A       		ANL	A,R2
 0110 0000D2 5B       		ANL	A,R3
 0111 0000D3 5C       		ANL	A,R4
 0112 0000D4 5D       		ANL	A,R5
 0113 0000D5 5E       		ANL	A,R6
 0114 0000D6 5F       		ANL	A,R7
 0115 0000D7 60       		ADD	A,@R0
 0116 0000D8 61       		ADD	A,@R1
 0117 0000D9 62       		MOV	T,A
 0118 0000DA 63       		.DB	$63	; invalid opcode
 0119 0000DB 64 45    		JMP	LOC3
 0120 0000DD 65       		STOP	TCNT
 0121 0000DE 66       		.DB	$66	; invalid opcode
 0122 0000DF 67       		RRC	A
 0123 0000E0 68       		ADD	A,R0
 0124 0000E1 69       		ADD	A,R1
 0125 0000E2 6A       		ADD	A,R2
 0126 0000E3 6B       		ADD	A,R3
 0127 0000E4 6C       		ADD	A,R4
 0128 0000E5 6D       		ADD	A,R5
 0129 0000E6 6E       		ADD	A,R6
 0130 0000E7 6F       		ADD	A,R7
 0131 0000E8 70       		ADDC	A,@R0
 0132 0000E9 71       		ADDC	A,@R1
 0133 0000EA 72 72    		JB3	L1
 0134 0000EC 73       		.DB	$73	; invalid opcode
 0135 0000ED 74 45    		CALL	LOC3
 0136 0000EF 75       		ENT0	CLK
 0137 0000F0 76 72    		JF1	L1
 0138 0000F2 77       		RR	A
 0139 0000F3 78       		ADDC	A,R0
 0140 0000F4 79       		ADDC	A,R1
 0141 0000F5 7A       		ADDC	A,R2
 0142 0000F6 7B       		ADDC	A,R3
 0143 0000F7 7C       		ADDC	A,R4
 0144 0000F8 7D       		ADDC	A,R5
 0145 0000F9 7E       		ADDC	A,R6
 0146 0000FA 7F       		ADDC	A,R7
 0147 0000FB 80       		MOVX	A,@R0
 0148 0000FC 81       		MOVX	A,@R1
 0149 0000FD 82       		.DB	$82	; invalid opcode
 0150 0000FE 83       		RET			
 0151 0000FF 84 56    		JMP	LOC4
 0152 000101 85       		CLR	F0
 0153 000102 86 72    		JNI	L1
 0154 000104 87       		.DB	$87	; invalid opcode
 0155 000105 88       		ORL	BUS,#ZLOC
 0156 000106 89 12    		ORL	P1,#ZLOC
 0157 000108 8A 12    		ORL	P2,#ZLOC
 0158 00010A 8B       		.DB	$8B	; invalid opcode
 0159 00010B 8C       		ORLD	P4,A
 0160 00010C 8D       		ORLD	P5,A
 0161 00010D 8E       		ORLD	P6,A
 0162 00010E 8F       		ORLD	P7,A
 0163 00010F 90       		MOVX	@R0,A
 0164 000110 91       		MOVX	@R1,A
 0165 000111 92 72    		JB4	L1
 0166 000113 93       		RETR			
 0167 000114 94 56    		CALL	LOC4
 0168 000116 95       		CPL	F0
 0169 000117 96 72    		JNZ	L1
 0170 000119 97       		CLR	C
 0171 00011A 98       		.DB	$98	; invalid opcode
 0172 00011B 99 50    		ANL	P1,#50h
 0173 00011D 9A 50    		ANL	P2,#50h
 0174 00011F 9B       		.DB	$9B	; invalid opcode
 0175 000120 9C       		ANL	P4,A
 0176 000121 9D       		ANL	P5,A
 0177 000122 9E       		ANL	P6,A
 0178 000123 9F       		ANL	P7,A
 0179 000124 A0       		MOV	@R0,A
 0180 000125 A1       		MOV	@R1,A
 0181 000126 A2       		.DB	$A2	; invalid opcode
 0182 000127 A3       		MOVP	A,@A
 0183 000128 A4 67    		JMP	LOC5
 0184 00012A A5       		CLR	F1
 0185 00012B A6       		.DB	$A6	; invalid opcode
 0186 00012C A7       		CPL	C
 0187 00012D A8       		MOV	R0,A
 0188 00012E A9       		MOV	R1,A
 0189 00012F AA       		MOV	R2,A
 0190 000130 AB       		MOV	R3,A
 0191 000131 AC       		MOV	R4,A
 0192 000132 AD       		MOV	R5,A
 0193 000133 AE       		MOV	R6,A
 0194 000134 AF       		MOV	R7,A
 0195 000135 B0 12    		MOV	@R0,#ZLOC
 0196 000137 B1 12    		MOV	@R1,#ZLOC
 0197 000139 B2 72    		JB5	L1
 0198 00013B B3       		JMPP	@A
 0199 00013C B4 67    		CALL	LOC5
 0200 00013E B5       		CPL	F1
 0201 00013F B6 72    		JF0	L1
 0202 000141 B7       		.DB	$B7	; invalid opcode
 0203 000142 B8 12    		MOV	R0,#ZLOC
 0204 000144 B9 12    		MOV	R1,#ZLOC
 0205 000146 BA 12    		MOV	R2,#ZLOC
 0206 000148 BB 12    		MOV	R3,#ZLOC
 0207 00014A BC 12    		MOV	R4,#ZLOC
 0208 00014C BD 12    		MOV	R5,#ZLOC
 0209 00014E BE 12    		MOV	R6,#ZLOC
 0210 000150 BF 12    		MOV	R7,#ZLOC
 0211 000152 C0       		.DB	$C0	; invalid opcode
 0212 000153 C1       		.DB	$C1	; invalid opcode
 0213 000154 C2       		.DB	$C2	; invalid opcode
 0214 000155 C3       		.DB	$C3	; invalid opcode
 0215 000156 C4 78    		JMP	LOC6
 0216 000158 C5       		SEL	RB0
 0217 000159 C6 72    		JZ	L1
 0218 00015B C7       		MOV	A,PSW
 0219 00015C C8       		DEC	R0
 0220 00015D C9       		DEC	R1
 0221 00015E CA       		DEC	R2
 0222 00015F CB       		DEC	R3
 0223 000160 CC       		DEC	R4
 0224 000161 CD       		DEC	R5
 0225 000162 CE       		DEC	R6
 0226 000163 CF       		DEC	R7
 0227 000164 D0       		XRL	A,@R0
 0228 000165 D1       		XRL	A,@R1
 0229 000166 D2 72    		JB6	L1
 0230 000168 D3 12    		XRL	A,#ZLOC
 0231 00016A D4 78    		CALL	LOC6
 0232 00016C D5       		SEL	RB1
 0233 00016D D6       		.DB	$D6	; invalid opcode
 0234 00016E D7       		MOV	PSW,A
 0235 00016F D8       		XRL	A,R0
 0236 000170 D9       		XRL	A,R1
 0237 000171 DA       		XRL	A,R2
 0238 000172 DB       		XRL	A,R3
 0239 000173 DC       		XRL	A,R4
 0240 000174 DD       		XRL	A,R5
 0241 000175 DE       		XRL	A,R6
 0242 000176 DF       		XRL	A,R7
 0243 000177 E0       		.DB	$E0	; invalid opcode
 0244 000178 E1       		.DB	$E1	; invalid opcode
 0245 000179 E2       		.DB	$E2	; invalid opcode
 0246 00017A E3       		MOVP3	A,@A
 0247 00017B E4 89    		JMP	LOC7
 0248 00017D E5       		SEL	MB0
 0249 00017E E6 72    		JNC	L1
 0250 000180 E7       		RL	A
 0251 000181 E8 72    		DJNZ	R0,L1
 0252 000183 E9 72    		DJNZ	R1,L1
 0253 000185 EA 72    		DJNZ	R2,L1
 0254 000187 EB 72    		DJNZ	R3,L1
 0255 000189 EC 72    		DJNZ	R4,L1
 0256 00018B ED 72    		DJNZ	R5,L1
 0257 00018D EE 72    		DJNZ	R6,L1
 0258 00018F EF 72    		DJNZ	R7,L1
 0259 000191 F0       		MOV	A,@R0
 0260 000192 F1       		MOV	A,@R1
 0261 000193 F2 72    		JB7	L1
 0262 000195 F3       		.DB	$F3	; invalid opcode
 0263 000196 F4 89    		CALL	LOC7
 0264 000198 F5       		SEL	MB1
 0265 000199 F6 72    		JC	L1
 0266 00019B F7       		RLC	A
 0267 00019C F8       		MOV	A,R0
 0268 00019D F9       		MOV	A,R1
 0269 00019E FA       		MOV	A,R2
 0270 00019F FB       		MOV	A,R3
 0271 0001A0 FC       		MOV	A,R4
 0272 0001A1 FD       		MOV	A,R5
 0273 0001A2 FE       		MOV	A,R6
 0274 0001A3 FF       		MOV	A,R7
 0275 0001A4          	
 0276 0001A4          		.END

