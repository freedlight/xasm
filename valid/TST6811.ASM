	.LIST 6811.lst
	.CPU  68HC11
;:ts=8
; test sample for xgen6811.c
; opcode results in numeric sequence
; no errors should result

	.ORG	900:0000

ZLOC	.EQU	$0012	;SAMPLE ADDRESS IN PAGE ZERO
MLOC	.EQU	$3412	;SAMPLE ADDRESS NOT IN PAGE ZERO

BEGIN	.DB	$00	;invalid opcode
	NOP
	IDIV
	FDIV
	LSRD
	LSLD
	TAP
	TPA
	INX
	DEX
	CLV
	SEV
	CLC
	SEC
	CLI
	SEI
	SBA
	CBA
	BRSET	ZLOC,$10,L9
	BRCLR	ZLOC,$10,L9
	BSET	ZLOC,$10
	BCLR	ZLOC,$10
	TAB
L9	TBA
;$18 page
	INY
	DEY
	BSET	ZLOC,$10,Y
	BCLR	ZLOC,$10,Y
	BRSET	ZLOC,$10,L9,Y
	BRCLR	ZLOC,$10,L9,Y
	TSY
	TYS
	PULY
	ABY
	PSHY
	NEG	ZLOC,Y
	COM	ZLOC,Y
	LSR	ZLOC,Y
	ROR	ZLOC,Y
	ASR	ZLOC,Y
	ASL	ZLOC,Y
	ROL	$11,Y
	DEC	ZLOC,Y
	INC	ZLOC,Y
	TST	ZLOC,Y
	JMP	ZLOC,Y
	CLR	ZLOC,Y
	CPY	#$0123
	XGDY
	CPY	ZLOC
	SUBA	ZLOC,Y
	CMPA	ZLOC,Y
	SBCA	$11,Y
	SUBD	$11,Y
	ANDA	ZLOC,Y
	BITA	ZLOC,Y
	LDAA	ZLOC,Y
	STAA	$11,Y
	EORA	ZLOC,Y
	ADCA	ZLOC,Y
	ORAA	$11,Y
	ADDA	$11,Y
	CPY	$11,Y
	JSR	ZLOC,Y
	LDS	ZLOC,Y
	STS	$11,Y
	CPY	MLOC
	LDY	#$0123
	LDY	ZLOC
	STY	ZLOC
	SUBB	ZLOC,Y
	CMPB	ZLOC,Y
	SBCB	ZLOC,Y
	ADDD	$11,Y
	ANDB	$11,Y
	BITB	$11,Y
	LDAB	ZLOC,Y
	STAB	ZLOC,Y
	EORB	ZLOC,Y
	ADCB	$11,Y
	ORAB	$11,Y
	ADDB	$11,Y
	LDD	ZLOC,Y
	STD	ZLOC,Y
	LDY	$11,Y
	STY	ZLOC,Y
	LDY	MLOC
	STY	MLOC
;
	DAA
;$1A page
	CPD	#$0123
	CPD	ZLOC
	CPD	ZLOC,X
	CPY	ZLOC,X
	CPD	MLOC
	LDY	$11,X
	STY	ZLOC,X
;
L8	ABA
	BSET	ZLOC,$10,X
	BCLR	ZLOC,$10,X
	BRSET	ZLOC,$10,L8,X
	BRCLR	ZLOC,$10,L8,X
	BRA	L8
	BRN	L8
	BHI	L8
	BLS	L8
	BCC	L8
	BCS	L8
	BNE	L8
	BEQ	L8
	BVC	L8
	BVS	L8
	BPL	L8
	BMI	L8
	BGE	L8
	BLT	L8
	BGT	L8
	BLE	L8
	TSX
	INS
	PULA
	PULB
	DES
	TXS
	PSHA
	PSHB
	PULX
	RTS
	ABX
	RTI
	PSHX
	MUL
	WAIT
	SWI
	NEG	A
	.DB	$41	;invalid opcode
	.DB	$42	;invalid opcode
	COM	A
	LSR	A
	.DB	$45	;invalid opcode
	ROR	A
	ASR	A
	ASL	A
	ROL	A
	DEC	A
	.DB	$4B	;invalid opcode
	INC	A
	TST	A
	.DB	$4E	;invalid opcode
	CLR	A
	NEG	B
	.DB	$51	;invalid opcode
	.DB	$52	;invalid opcode
	COM	B
	LSR	B
	.DB	$55	;invalid opcode
	ROR	B
	ASR	B
	ASL	B
	ROL	B
	DEC	B
	.DB	$5B	;invalid opcode
	INC	B
	TST	B
	.DB	$5E	;invalid opcode
	CLR	B
	NEG	ZLOC,X
	.DB	$61	;invalid opcode
	.DB	$62	;invalid opcode
	COM	ZLOC,X
	LSR	ZLOC,X
	.DB	$65	;invalid opcode
	ROR	ZLOC,X
	ASR	ZLOC,X
	ASL	ZLOC,X
	ROL	$11,X
	DEC	ZLOC,X
	.DB	$6B	;invalid opcode
	INC	ZLOC,X
	TST	ZLOC,X
	JMP	ZLOC,X
	CLR	ZLOC,X
	NEG	MLOC
	.DB	$71	;invalid opcode
	.DB	$72	;invalid opcode
	COM	MLOC
	LSR	MLOC
	.DB	$75	;invalid opcode
	ROR	MLOC
	ASR	MLOC
	ASL	MLOC
	ROL	MLOC
	DEC	MLOC
	.DB	$7B	;invalid opcode
	INC	MLOC
	TST	MLOC
	JMP	MLOC
	CLR	MLOC
	SUBA	#$01
	CMPA	#$01
	SBCA	#$01
	SUBD	#$0123
	ANDA	#$01
	BITA	#$01
	LDAA	#$01
	.DB	$87	;invalid opcode
LA	EORA	#$01
	ADCA	#$01
	ORAA	#$01
	ADDA	#$01
	CPX	#$0123
	BSR	LA
	LDS	#$0123
	XGDX
	SUBA	ZLOC
	CMPA	ZLOC
	SBCA	$11
	SUBD	ZLOC
	ANDA	ZLOC
	BITA	ZLOC
	LDAA	ZLOC
	STAA	$11
	EORA	ZLOC
	ADCA	ZLOC
	ORAA	ZLOC
	ADDA	ZLOC
	CPX	ZLOC
	JSR	ZLOC
	LDS	ZLOC
	STS	ZLOC
	SUBA	ZLOC,X
	CMPA	ZLOC,X
	SBCA	$11,X
	SUBD	$11,X
	ANDA	ZLOC,X
	BITA	ZLOC,X
	LDAA	ZLOC,X
	STAA	$11,X
	EORA	ZLOC,X
	ADCA	ZLOC,X
	ORAA	$11,X
	ADDA	$11,X
	CPX	$11,X
	JSR	ZLOC,X
	LDS	ZLOC,X
	STS	$11,X
	SUBA	MLOC
	CMPA	MLOC
	SBCA	MLOC
	SUBD	MLOC
	ANDA	MLOC
	BITA	MLOC
	LDAA	MLOC
	STAA	MLOC
	EORA	$0100
	ADCA	MLOC
	ORAA	$0100
	ADDA	MLOC
	CPX	MLOC
	JSR	BEGIN
	LDS	MLOC
	STS	MLOC
	SUBB	#$01
	CMPB	#$01
	SBCB	#$01
	ADDD	#$0123
	ANDB	#$01
	BITB	#$01
	LDAB	#$01
	.DB	$C7	;invalid opcode
	EORB	#$01
	ADCB	#$01
	ORAB	#$01
	ADDB	#$01
	LDD	#$0123
; CD page
	CPD	ZLOC,Y
	CPX	$11,Y
	LDX	$11,Y
	STX	ZLOC,Y
;
	LDX	#$0123
	STOP
	SUBB	ZLOC
	CMPB	ZLOC
	SBCB	ZLOC
	ADDD	ZLOC
	ANDB	ZLOC
	BITB	ZLOC
	LDAB	$11
	STAB	ZLOC
	EORB	ZLOC
	ADCB	ZLOC
	ORAB	ZLOC
	ADDB	$11
	LDD	ZLOC
	STD	ZLOC
	LDX	ZLOC
	STX	ZLOC
	SUBB	ZLOC,X
	CMPB	ZLOC,X
	SBCB	ZLOC,X
	ADDD	$11,X
	ANDB	$11,X
	BITB	$11,X
	LDAB	ZLOC,X
	STAB	ZLOC,X
	EORB	ZLOC,X
	ADCB	$11,X
	ORAB	$11,X
	ADDB	$11,X
	LDD	ZLOC,X
	STD	ZLOC,X
	LDX	$11,X
	STX	ZLOC,X
	SUBB	MLOC
	CMPB	MLOC
	SBCB	MLOC
	ADDD	MLOC
	ANDB	MLOC
	BITB	MLOC
	LDAB	MLOC
	STAB	MLOC
	EORB	MLOC
	ADCB	$0100
	ORAB	MLOC
	ADDB	$0100
	LDD	MLOC
	STD	MLOC
	LDX	MLOC
	STX	MLOC

	.END

